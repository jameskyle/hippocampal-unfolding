% mrVolDisplayData
% script
%
% 07.09.98 SJC
%
% PURPOSE:	Tool for loading in and displaying data on specific gray
%		matter locations.
% 

load mrDisplayData

dispFig = figure('Color',[0.8 0.8 0.8], ...
	'Colormap',mat0, ...
	'MenuBar','none',...
	'Name','Display Data',...
	'Position',[440 653 371 154], ...
	'Tag','Fig1');
	
dispTitle_txt = uicontrol('Parent',dispFig, ...
	'Units','points', ...
	'BackgroundColor',[0.8 0.8 0.8], ...
	'FontSize',14, ...
	'ListboxTop',0, ...
	'Position',[86.39999999999999 105.3 166.5 19.8], ...
	'String','Load and Display Data', ...
	'Style','text', ...
	'Tag','StaticText1');
	
fileDirName_txt = uicontrol('Parent',dispFig, ...
	'Units','points', ...
	'BackgroundColor',[0.8 0.8 0.8], ...
	'HorizontalAlignment','left', ...
	'ListboxTop',0, ...
	'Position',[15.3 80.99999999999999 184.5 17.1], ...
	'String','Enter directory and name of data file:', ...
	'Style','text', ...
	'Tag','StaticText2');
	
fileDirName_edit = uicontrol('Parent',dispFig, ...
	'Units','points', ...
	'BackgroundColor',[1 1 1], ...
	'HorizontalAlignment','left', ...
	'ListboxTop',0, ...
	'Position',[15.3 57.59999999999999 302.4 21.6], ...
	'Style','edit', ...
	'Tag','EditText1');

load_btn = uicontrol('Parent',dispFig, ...
	'Units','points', ...
	'BackgroundColor',[0.701960784313725 0.701960784313725 0.701960784313725], ...
	'Callback',[...
		'[xyzc cMap] = mrLoadDispData(get(fileDirName_edit,''String''));',...
		'if (isempty(xyzc) | isempty(cMap)),',...
		  'set(fileDirName_edit,''String'','''');',...
		'else,',...
		  'displayData = mrMap2Gray(xyzc,grayStruct.nodes);',...
		  'if ~isempty(displayData), mrSetColorMap(cMap,h_fig2); end,',...
		'end'],...
	'FontSize',12, ...
	'ListboxTop',0, ...
	'Position',[18 15.3 66.59999999999999 28.8], ...
	'String','Load', ...
	'Tag','Pushbutton1');
	
display_btn = uicontrol('Parent',dispFig, ...
	'Units','points', ...
	'BackgroundColor',[0.701960784313725 0.701960784313725 0.701960784313725], ...
	'Callback',[...
		'if ~isempty(displayData),',...
		  'displayStruct.flags = [-1 -1 -1 -1 1];',...
		  'mrChangeImageScript;',...
		'else, errordlg(''No data loaded in.'');',...
		'end'],...
	'FontSize',12, ...
	'ListboxTop',0, ...
	'Position',[94.49999999999999 15.3 66.59999999999999 28.8], ...
	'String','Display', ...
	'Tag','Pushbutton1');
	
clear_btn = uicontrol('Parent',dispFig, ...
	'Units','points', ...
	'BackgroundColor',[0.701960784313725 0.701960784313725 0.701960784313725], ...
	'Callback',['dispDataStruct.cMap = []; displayDataStruct.xyzc = [];',...
		'set(fileDirName_edit,''String'','''');',...
		'displayStruct.flags(5) = -1;'],...
	'FontSize',12, ...
	'ListboxTop',0, ...
	'Position',[171 15.3 68.39999999999999 28.8], ...
	'String','Clear', ...
	'Tag','Pushbutton1');

close_btn = uicontrol('Parent',dispFig, ...
	'Units','points', ...
	'BackgroundColor',[0.701960784313725 0.701960784313725 0.701960784313725], ...
	'Callback','close(gcf)',...
	'FontSize',12, ...
	'ListboxTop',0, ...
	'Position',[249.3 15.3 66.59999999999999 28.8], ...
	'String','Close', ...
	'Tag','Pushbutton1');
